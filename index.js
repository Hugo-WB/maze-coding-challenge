(()=>{"use strict";var t={236:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Cell=i.generateEllers=void 0;var e=function(t){this.walls=[!0,!0,!0,!0],this.set=t};i.Cell=e;var h=function(t){for(var i=[],h=0;h<t;h++)i.push(new e(-1));return i};i.generateEllers=function(t,i){for(var r=0,n=[],a=[],o=[],s=0;s<t;s++)o.push(new e(r)),r+=1;for(var d=0;d<i;d++){if(d==i-1){for(s=1;s<t;s++)o[s].set!=o[s-1].set&&(o[s].walls[3]=!1,o[s-1].walls[1]=!1);a.push(o);break}for(s=1;s<t;s++)Math.random()<.5&&(o[s].set=o[s-1].set,o[s].walls[3]=!1,o[s-1].walls[1]=!1);o.forEach((function(t){n.includes(t.set)||n.push(t.set)}));var l=h(t);for(d==i&&(n=[]);n.length>0;)for(s=0;s<t;s++)n.includes(o[s].set)&&Math.random()<.3&&(o[s].walls[2]=!1,l[s].walls[0]=!1,l[s].set=o[s].set,n.splice(n.indexOf(o[s].set),1));l=l.map((function(t){return-1==t.set&&(r+=1,t.set=r),t})),a.push(o),o=l}return a}},607:(t,i,e)=>{var h=e(236),r=40,n={x:0,y:0},a=5;navigator.userAgent.indexOf("Chrome")>-1&&(a=4);var o=!0,s=document.getElementsByTagName("canvas")[0],d=s.getContext("2d");if(!(d=s.getContext("2d")))throw new Error("2d context not supported");var l=d,u=document.getElementById("start");if(null==u)throw new Error("Render button first");var f=u,y=document.getElementById("afterMenu");if(null==y)throw new Error("Render");var w=y,c={},x=[],g=function(t,i,e,h){for(var r=l.getImageData(t,i,e,h).data,n=0;n<r.length;n++)if(0!=r[n])return!0;return!1},p=function(){function t(){this.phasing=!1,this.x=Math.round(s.width/2),this.y=Math.round(s.height/2),this.width=20,this.height=20}return t.prototype.getCurrentCoordinates=function(){return{x:Math.ceil((-n.x-1)/41+Math.floor(s.width/41/2)),y:Math.round((-n.y-1)/41)+Math.floor(s.height/41/2)}},t.prototype.checkForColour=function(t){for(var i=[l.getImageData(this.x+20,this.y-(a+1),1,1),l.getImageData(this.x+r+a+1,this.y+20,1,1),l.getImageData(this.x+20,this.y+r+a+1,1,1),l.getImageData(this.x-(a+1),this.y+20,1,1)],e=0;e<i.length;e++)if(i[e].data.toString()===t)return!0;return!1},t.prototype.update=function(){if((c.w||c.ArrowUp)&&(g(this.x,this.y,this.width,-a)&&!this.phasing||(n.y+=a)),(c.a||c.ArrowLeft)&&(g(this.x,this.y,-a,this.width)&&!this.phasing||(n.x+=a)),(c.s||c.ArrowDown)&&(g(this.x,this.y+this.width,this.width,a)&&!this.phasing||(n.y-=a)),(c.d||c.ArrowRight)&&(g(this.x+this.width,this.y,a,this.width)&&!this.phasing||(n.x-=a)),this.checkForColour("255,0,0,255")&&(o=!1,m()),this.checkForColour("0,0,255,255")){var t=x[1],i=this.getCurrentCoordinates();if(t instanceof v)for(var e=0;e<t.phazors.length;e++)if(Math.abs(t.phazors[e][0]-i.x)+Math.abs(t.phazors[e][1]-i.y)<4){t.phazors.splice(e,1);var h=(r=Math.round(Math.random()*(x[1].width-1)),d=Math.round(Math.random()*(x[1].height-1)),{x:s.width/2-(41*r+1),y:s.height/2-(41*d+1)});n.x=h.x,n.y=h.y;break}}var r,d;c[" "]&&(this.phasing=!0),c[" "]||(this.phasing=!1)},t.prototype.draw=function(){l.fillRect(this.x,this.y,this.width,this.width)},t}(),v=function(){function t(t,i){this.start={x:0,y:0},this.end={x:0,y:0},this.phazors=[],this.height=null!=i?i:Math.floor(s.height/41),this.width=null!=t?t:Math.floor(s.width/41),this.maze=h.generateEllers(this.width,this.height),this.end={x:Math.round(Math.random()*(this.width-1)),y:Math.round(Math.random()*(this.height-1))};for(var e=0;e<Math.round(this.height*this.width/200);e++)this.phazors.push([Math.round(Math.random()*(this.width-1)),Math.round(Math.random()*(this.height-1))])}return t.prototype.update=function(){},t.prototype.draw=function(){var t={x:1+n.x,y:1+n.y};l.fillStyle="red",l.fillRect(1*(this.end.x+1)+this.end.x*r+n.x,1*(this.end.y+1)+this.end.y*r+n.y,r,r),l.fillStyle="blue",this.phazors.forEach((function(t){l.fillRect(1*(t[0]+1)+t[0]*r+n.x,1*(t[1]+1)+t[1]*r+n.y,r,r)})),l.fillStyle="black",l.beginPath();for(var i={x:[Math.max(0,Math.round(-n.x/r*.9)),Math.min(this.width,Math.round(-n.x/r+2*Math.floor(s.width/41/2)+2))],y:[Math.max(0,Math.round(.9*-n.y/r)),Math.min(this.height,Math.round(-n.y/r)+2*Math.floor(s.height/41/2)+2)]},e=i.y[0];e<i.y[1];e++){t.y=1*(e+1)+e*r+n.y;for(var h=i.x[0];h<i.x[1];h++)t.x=1*(h+1)+h*r+n.x,l.moveTo(t.x,t.y),t.x+=r,this.maze[e][h].walls[0]?l.lineTo(t.x,t.y):l.moveTo(t.x,t.y),t.y+=r,this.maze[e][h].walls[1]?l.lineTo(t.x,t.y):l.moveTo(t.x,t.y),t.x-=r,this.maze[e][h].walls[2]?l.lineTo(t.x,t.y):l.moveTo(t.x,t.y),t.y-=r,this.maze[e][h].walls[3]?l.lineTo(t.x,t.y):l.moveTo(t.x,t.y),t.x+=r}l.stroke()},t}(),M=function(){x.forEach((function(t){t.update()})),l.clearRect(0,0,s.width,s.height),x.forEach((function(t){t.draw()})),o&&requestAnimationFrame(M)};f.addEventListener("click",(function(){f.style.visibility="hidden",M()}));var m=function(){w.style.visibility="visible"};w.addEventListener("click",(function(){n={x:0,y:0},x=[new p,new v(Math.round(10*x[1].width),Math.round(10*x[1].height))],w.style.visibility="hidden",o=!0,l.clearRect(0,0,s.width,s.height),M()})),window.addEventListener("keydown",(function(t){c[t.key]=!0})),window.addEventListener("keyup",(function(t){c[t.key]=!1})),s.height=window.innerHeight,s.width=window.innerWidth,x=[new p,new v],n={x:0,y:0},(new v).draw()}},i={};!function e(h){if(i[h])return i[h].exports;var r=i[h]={exports:{}};return t[h](r,r.exports,e),r.exports}(607)})();